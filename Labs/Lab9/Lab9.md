#### Лабораторная работа - Конфигурация безопасности коммутатора 

Топология

![image](https://github.com/DowningSun/OTUS/assets/156109695/ace2cf4e-1750-4e8a-99f0-6aae30273039)

Таблица адресации

| Устройство | interface/vlan | IP-адрес | Маска подсети |
| ------ | ------ | ------ |  ------ |
| R1 | G0/0/1 | 192.168.10.1 | 255.255.255.0 |
| | Loopback 0 | 10.10.1.1 | 255.255.255.0 |
| S1 | VLAN 10 | 192.168.10.201 | 255.255.255.0 |
| S2 | VLAN 10 | 192.168.10.202 | 255.255.255.0 |
| PC A | NIC | DHCP | 255.255.255.0 |
| PC B | NIC | DHCP | 255.255.255.0 |

#### Выполнение работы

### Часть 1.Настройка основного сетевого устройства.

**Шаг 1. Создайте сеть.**
             
a. Создайте сеть согласно топологии.

**Шаг 2. Настройте маршрутизатор R1.**

a. Загрузите следующий конфигурационный скрипт на R1.

enable
configure terminal
hostname R1
no ip domain lookup
ip dhcp excluded-address 192.168.10.1 192.168.10.9
ip dhcp excluded-address 192.168.10.201 192.168.10.202
!
ip dhcp pool Students
 network 192.168.10.0 255.255.255.0
 default-router 192.168.10.1
 domain-name CCNA2.Lab-11.6.1
!
interface Loopback0
 ip address 10.10.1.1 255.255.255.0
!
interface GigabitEthernet0/0/1
 description Link to S1
 ip dhcp relay information trusted     Данная команда не поддерживается CPT
 ip address 192.168.10.1 255.255.255.0     
 no shutdown
!
line con 0
 logging synchronous
 exec-timeout 0 0

b. Проверьте текущую конфигурацию на R1, используя следующую команду:

R1# show ip interface brief

c. Убедитесь, что IP-адресация и интерфейсы находятся в состоянии up / up (при необходимости устраните неполадки).

![R1 sh int br](https://github.com/DowningSun/OTUS/assets/156109695/344525b2-b359-45f4-b564-5350ccaacd63)


**Шаг 3. Настройка и проверка основных параметров коммутатора**

a. Настройте имя хоста для коммутаторов S1 и S2.

b. Запретите нежелательный поиск в DNS.

c. Настройте описания интерфейса для портов, которые используются в S1 и S2.

d. Установите для шлюза по умолчанию для VLAN управления значение 192.168.10.1 на обоих коммутаторах.

![SW config](https://github.com/DowningSun/OTUS/assets/156109695/81aa3de0-3efb-4b57-b6a5-f83fb802bab1)


## Часть 2. Настройка сетей VLAN на коммутаторах.

**Шаг 1. Сконфигруриуйте VLAN 10.**

Добавьте VLAN 10 на S1 и S2 и назовите VLAN - Management.

**Шаг 2. Сконфигруриуйте SVI для VLAN 10.**

Настройте IP-адрес в соответствии с таблицей адресации для SVI для VLAN 10 на S1 и S2. Включите интерфейсы SVI и предоставьте описание для интерфейса.

**Шаг 3. Настройте VLAN 333 с именем Native на S1 и S2.**

**Шаг 4. Настройте VLAN 999 с именем ParkingLot на S1 и S2.**

## Часть 3. Настройки безопасности коммутатора.

**Шаг 1. Релизация магистральных соединений 802.1Q.**

Настройте все магистральные порты Fa0/1 на обоих коммутаторах для использования VLAN 333 в качестве native VLAN.

**Убедитесь, что режим транкинга успешно настроен на всех коммутаторах.**

**Отключить согласование DTP F0/1 на S1 и S2.**

**Проверьте с помощью команды show interfaces.**

![sh noneg](https://github.com/DowningSun/OTUS/assets/156109695/f4861107-b448-41cc-a731-6ea650a278b8)


**Шаг 2. Настройка портов доступа**

a. На S1 настройте F0/5 и F0/6 в качестве портов доступа и свяжите их с VLAN 10.

b. На S2 настройте порт доступа Fa0/18 и свяжите его с VLAN 10.

**Шаг 3. Безопасность неиспользуемых портов коммутатора**

a. На S1 и S2 переместите неиспользуемые порты из VLAN 1 в VLAN 999 и отключите неиспользуемые порты.

b. Убедитесь, что неиспользуемые порты отключены и связаны с VLAN 999, введя команду  show.

**Шаг 3. Безопасность неиспользуемых портов коммутатора**

a. На S1 и S2 переместите неиспользуемые порты из VLAN 1 в VLAN 999 и отключите неиспользуемые порты.

b. Убедитесь, что неиспользуемые порты отключены и связаны с VLAN 999, введя команду  show.

![sh int sta](https://github.com/DowningSun/OTUS/assets/156109695/9a5a2b8a-8d72-4c53-9c45-7cbfd4a4b87c)

**Шаг 4. Документирование и реализация функций безопасности порта.**

a. На S1, введите команду show port-security interface f0/6  для отображения настроек по умолчанию безопасности порта для интерфейса F0/6. Запишите свои ответы ниже.

| Конфигурация безопасности порта по умолчанию | |
| ------ | ------ |
| Защита портов | |
| Максимальное количество записей MAC-адресов | |
| Режим проверки на нарушение безопасности | |
| Aging Time | |
| Aging Type | |
| Secure Static Address Aging | |
| Sticky MAC Address | |
