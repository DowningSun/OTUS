#  eBGP. Основы

###  Задание:

BGP. Основы

Цель: Настроить BGP между автономными системами.

Организовать доступность между офисами Москва и С.-Петербург

1. eBGP между офисом Москва и двумя провайдерами - Киторн и Ламас
2. Настроите eBGP между провайдерами Киторн и Ламас
3. Настроите eBGP между Ламас и Триада
4. eBGP между офисом С.-Петербург и провайдером Триада
5. Организуете IP доступность между офисами Москва и С.-Петербург

### Схема сети

![image](https://github.com/user-attachments/assets/8972019f-d9c3-46e5-8154-4667f1d56612)

### Конфигурация маршрутизаторов :

1. Включаем на всех роутерах процес BGP с номером AS согласно схемы. 
          
       RX(config)#router BGP X - где X номер автономной системы. 
 
    R14 - Москва
   
    R15 - Москва
   
    R21 - Ламас
   
    R22 - Киторн
   
    R24 - Триада
   
    R26 - Триада
   
    R18 - С.Питербург

2. Назначаем на каждом роутере Router ID для BGP

       RX(config)#router bgp X
       RX(config-router)#bgp router-id x.x.x.x - где x.x.x.x адрес интерфейса Lo0 согласно схемы. R14 - router-id 14.14.14.14

3. Устанавливаем сосдество по BGP согласно задания.

       R14 - Москва (50.50.50.2)  -  R22 - Киторн (50.50.50.1)
       R15 - Москва (60.60.60.2)  -  R21 - Ламас (60.60.60.1)
       R22 - Киторн (70.70.70.1)  -  R21 - Ламас (70.70.70.2)
       R21 - Ламас (90.90.90.1)   -  R24 - Триада (90.90.90.2)
       R24 - Триада (100.100.100.1)- R18 - С.Питербург (100.100.100.2)
       R26 - Триада (110.110.110.1)- R18 - С.Питербург (110.110.110.2)

Для установления BGP соседства необходимо на каждом роутере указать команду:
  
       RX(config)#router bgp X
       RX(config-router)#neighbor x.x.x.x remote-as ZZZ - где x.x.x.x IP соседа с кем устанавливается BGP, а ZZZ - номер автономной системы BGP соседа

### Пример R14 Москва - R22 Киторн

![image](https://github.com/user-attachments/assets/0134b22b-7c14-4e78-90a0-bde2a4191bf0)

### Пример R22 Киторн - R14 Москва

![image](https://github.com/user-attachments/assets/127a6552-9534-4856-aa39-361f8cb48e44)

После выполнения данных команд на каждом роутере создается BGP соседвство.

Пример R22

![image](https://github.com/user-attachments/assets/087e2c5f-bedc-452c-a37a-5a050b16b02a)

Последний столбец из скриншота State/PfxRcd с числом 0 указывает на то, что ни одна из сетей не анонсирована, установлено только соседство.

## Для  организации IP доступности между офисами Москва и С.-Петербург необходимо:

## 1. Добавить в анонс BGP конечные сети пользователей

       Москва - 192.168.20.0/24 и 192.168.30.0/24
       С.-Петербург  - 192.168.40.0/24 и 192.168.50.0/24
       
 Для Москвы на роутерах R14 и R15 выполнить:
    
      R14-15(config)#router bgp 1001
      R14-15(config-router)#network 192.168.20.0   
      R14-15(config-router)#network 192.168.30.0
      
  Для С.-Петербурга на роутере R18 выполнить:
      
      R18(config)#router bgp 2042
      R18(config-router)#network 192.168.40.0
      R18(config-router)#network 192.168.50.0


